<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">{{actionModalTitle}}</h4>
        </div>
        <div class="modal-body">

            <div class="form-group">
                <label for="device_id" data-toggle="tooltip" data-placement="top" title="Id of this device, given by the system.  This ID cannot be changed.">Device ID</label>
                <input type="text" class="form-control" id="device_id" placeholder="" ng-model="device.deviceId" readonly="readonly">
            </div>

            <h4>Basic Information</h4>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="device_name" data-toggle="tooltip" data-placement="top" title="This name will mainy be used in Reports and Alerts.">Device Name</label>
                            <input type="text" class="form-control" id="device_Name" placeholder="" ng-model="device.name">
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label for="device_icon" data-toggle="tooltip" data-placement="top" title="The icon that will represent this device in the system">Icon</label>
                            <select class="form-control" id="device_icon" ng-model="device.iconId" ng-options="icon.value as icon.name for icon in icons" ng-change="changeIcon()">
                            </select>
                        </div>
                    </div>
                    <div class="col-md-1">
                        <div class="form-group">
                            <label for="device_icon" data-toggle="tooltip" data-placement="top" title="The icon that will represent this device in the system">...</label>
                            <img src="{{device.iconURL}}" alt="Current Device Icon" />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="device_driver" data-toggle="tooltip" data-placement="top" title="Driver assigned to the vehicle.  Drivers are created in the Users section, as a regular user.  Just mark the user as Driver while creating it.">Driver Name</label>
                            <select class="form-control" id="device_driver" ng-model="device.driverId" ng-options="driver.value as driver.name for driver in drivers">
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <h4>Short Name or Alias</h4>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="deviceUpdateShortName" data-toggle="tooltip" data-placement="top" title="This will be used in the map - short name to avoid map cluttering.">Short Name (Max. 6 chars)</label>
                            <input type="text" class="form-control" id="deviceUpdateShortName" placeholder="" ng-model="device.shortName" my-maxlength="6">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="deviceUpdateShortName2" data-toggle="tooltip" data-placement="top" title="This line of text would go right below the short name defined above.">2nd line (optional)</label>
                            <input type="text" class="form-control" id="deviceUpdateShortName2" placeholder="" ng-model="device.iconLabelLine2" my-maxlength="6">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="device_ShortNameColors" data-toggle="tooltip" data-placement="top" title="Colors used for the short name - very useful to color-code groups of vehicles.">Short Name Color</label>
                            <table>
                                <tr>
                                    <td>Text:</td>
                                    <td><input id="deviceUpdateTextColor" name="deviceUpdateTextColor" type="text" value="#0000" ng-model="device.textColor" /></td>
                                    <td><p ng-style="changeTextColor(device.textColor)">{{device.textColor}}</p></td>
                                </tr>
                                <tr>
                                    <td>Background:</td>
                                    <td><input id="deviceUpdateBgndColor" name="deviceUpdateBgndColor" type="text" value="#ffff" ng-model="device.bgndColor" /></td>
                                    <td><p ng-style="changeBackgroundColor(device.bgndColor)">{{device.bgndColor}}</p></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <h4>Speed and Idle Limits</h4>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="device_speedLimit" data-toggle="tooltip" data-placement="top" title="Speed at which the system will trigger a Speeding Alert">Speed Limit</label>
                            <input type="text" class="form-control" id="device_SpeedLimit" placeholder="" ng-model="device.speedLimit">
                        </div>

                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="device_idleLimit" data-toggle="tooltip" data-placement="top" title="Idle time at which the system will trigger an Idle Alert">Idle Alert</label>
                            <input type="text" class="form-control" id="device_IdleAlert" placeholder="" ng-model="device.idleLimit">
                        </div>
                    </div>
                    <div class="col-md-4">

                    </div>
                </div>

            </div>

            <h4>Vehicle Identification</h4>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="device_vin" data-toggle="tooltip" data-placement="top" title="Vehicle's VIN number">VIN</label>
                            <input type="text" class="form-control" id="device_vin" placeholder="" ng-model="device.vin">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="device_licensePlate" data-toggle="tooltip" data-placement="top" title="Vehicle's License Plate">License Plate</label>
                            <input type="text" class="form-control" id="device_licensePlate" placeholder="" ng-model="device.licensePlate">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="device_odometer" data-toggle="tooltip" data-placement="top" title="Vehicle's current odometer.  This value will be an approximate of the vehicle's actual value.">Odometer</label>
                            <input type="text" class="form-control" id="device_odometer" placeholder="" ng-model="device.odometer">
                        </div>
                    </div>
                </div>
            </div>

            <h4 data-toggle="tooltip" data-placement="left" title="These attributes are used only on certain cases, like when the device is installed on a Refri Trailer, or when the device is coupled with an iButton kit.  Please contact us for more information.">Other attributes</h4>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-4">
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" value="" ng-model="device.isARB">
                                <span data-toggle="tooltip" data-placement="top" title="This Vehicle has refri trailer installed - this attribute is particularly important for refri trailers in the State of California for compliance with TRU Regulations.">Is TRU</span>
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="container-fluid" ng-show="device.isARB">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="device_arbNumber">ARB Number</label>
                                        <input type="text" class="form-control" id="device_arbNumber" placeholder="" ng-model="device.arbNumber">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="device_dieselMeter">Diesel Meter</label>
                                        <input type="text" class="form-control" id="device_dieselMeter" placeholder="" ng-model="device.dieselMeter">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="device_electricMeter">Electric Meter</label>
                                        <input type="text" class="form-control" id="device_electricMeter" placeholder="" ng-model="device.electricMeter">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" value="" ng-model="device.isBuzzerOn">
                                <span data-toggle="tooltip" data-placement="top" title="The iButton's buzzer should turn ON on violation">Buzzer ON</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="device_fuelCardId" data-toggle="tooltip" data-placement="top" title="Fueld Card ID - If your company has Fuel Card integrated, you can enter here the ID of your vehicle as per the fuel card system.">Fuel Card ID</label>
                            <input type="text" class="form-control" id="device_fuelCardId" placeholder="" ng-model="device.fuelCardUnitId">
                        </div>
                    </div>
                    <div class="col-md-4"></div>
                    <div class="col-md-4"></div>
                </div>
            </div>

        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" ng-click="savePopupModal()">Save changes</button>
        </div>
    </div>
</div>
