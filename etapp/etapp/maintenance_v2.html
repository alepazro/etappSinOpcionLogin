<!DOCTYPE html>
<html ng-app="etApp">
<head>
    <title>Maintenance Module</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <!--    CSS includes -->
    <link href="vendors/kendo-2013.3.1119/styles/kendo.common.min.css" rel="stylesheet" />
    <link href="vendors/kendo-2013.3.1119/styles/kendo.bootstrap.min.css" rel="stylesheet" />
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="themes/base/jquery.ui.all.css" rel="stylesheet" type="text/css" />
    <link href="themes/flick/jquery.ui.all.css" rel="stylesheet" type="text/css" />
    <link href="Styles/common.css" rel="stylesheet" type="text/css" />
    <link href="Styles/app.css" rel="stylesheet" type="text/css" />
    <link href="Styles/logo.css" rel="stylesheet" type="text/css" />
    <link href="Styles/appMaintenance.css" rel="stylesheet" type="text/css" />

    <script type="text/javascript">
        if (window.location.href.indexOf('matchpointgps') != -1) {
            document.write('<link rel="stylesheet" type="text/css" href="Styles/matchpointgps.css" />')
        }
        if (window.location.href.indexOf('adapco') != -1) {
            document.write('<link rel="stylesheet" type="text/css" href="Styles/adapco.css" />')
        }
    </script>

</head>
<body>
    <div id="header">
        <div id="topMenu">
            <div id="feedback" style="float:right;height:15px;margin:7px 3px;padding:5px;background-color:#ffffff; vertical-align:middle;cursor:pointer;">
                <div><span style="font-weight:600;">Feedback</span></div>
            </div>
            <div style="float:right;height:15px;margin:7px 3px;padding:5px;background-color:#ffffff; vertical-align:middle;">
                <!-- BEGIN ProvideSupport.com Text Chat Link Code -->
                <div id="ciWtVh" style="z-index:100;position:absolute"></div><div id="scWtVh" style="display:inline"></div><div id="sdWtVh" style="display:none"></div>
                <noscript><div style="display:inline"><a href="https://www.providesupport.com?messenger=0325vm2g5aj6809q0cspkf44yw">Customer Support Chat</a></div></noscript>
                <!-- END ProvideSupport.com Text Chat Link Code -->
            </div>

            <a href="#" onclick="logout()" class="loginDivClass">Logout</a>
            <div class="logoPosition">
                <span id="dealerBrand" class="logoDesign"></span>
            </div>
            <div id="welcomeTitleDiv">
                <span id="welcomeTitleSpan"></span>
            </div>
            <div id="panelTypes" style="display:block;padding-top:10px;">
                <span id="mod1"><input id="rbtTracking" name="panelType" onclick="changePanel(1)" type="radio" style="margin-top:0px;" /><span class="topMenuOption">Tracking</span></span>
                <span id="mod2"><input id="rbtMultiTracking" name="panelType" onclick="changePanel(2)" type="radio" style="margin-top:0px;" /><span class="topMenuOption">Multi-Tracking</span></span>
                <span id="mod3"><input id="rbtReports" name="panelType" onclick="changePanel(3)" type="radio" style="margin-top:0px;" /><span class="topMenuOption">Reports</span></span>
                <span id="mod5"><input id="rbtMaintenance" name="panelType" checked="checked" type="radio" style="margin-top:0px;" /><span class="topMenuOption">Maintenance</span></span>
                <span id="mod4"><input id="rbtSettings" name="panelType" onclick="changePanel(4)" type="radio" style="margin-top:0px;" /><span class="topMenuOption">Settings</span></span>
            </div>
        </div>
    </div>
    <div id="wrapper">
        <div id="maintenanceContent" ng-controller="serviceModuleCtrl">

            <div id="introDiv" style="width:100%;display:none;">
                <div style="width:100%;text-align:center;padding:10px;">
                    <h2>Welcome to the Maintenance Module!</h2>
                </div>
                <div style="width:100%; padding:20px;">
                    <h2 style="color:blue;padding:5px 0px;">Track and manage maintenance on your fleet and any asset.</h2>
                    <h3 style="padding:5px 0px;">1. Create a custom preventative maintenance plan with incredible ease.</h3>
                    <p style="color:#515151;font-size:14px;">Each maintenance task and reminder schedule is completely configurable, per vehicle.</p>
                    <table>
                        <tr>
                            <td>
                                <img src="images/Maint_Tasks.png" alt="Maintenance Tasks" />
                            </td>
                        </tr>
                    </table>
                    <h3 style="padding:5px 0px;">2. Quickly see which maintenance tasks need attention.</h3>
                    <p style="color:#515151;font-size:14px;">For added convenience, automatically receive an email when maintenance is due. Managing vehicles just got easier.</p>
                    <table>
                        <tr>
                            <td>
                                <img src="images/Maint_Schedules.png" alt="Maintenance Schedules" />
                            </td>
                        </tr>
                    </table>
                    <h3 style="padding:5px 0px;">3. Easily log maintenance, inspections and services performed to your fleet.</h3>
                    <p style="color:#515151;font-size:14px;">Reminders automatically calculate when they're next due</p>
                    <table>
                        <tr>
                            <td>
                                <img src="images/Maint_ServicesEntry.png" alt="Easy Service Entry" />
                            </td>
                        </tr>
                    </table>
                    <h3 style="padding:5px 0px;">4. Easily access your maintenance history, all in one place.</h3>
                    <p style="color:#515151;font-size:14px;">An unlimited, organized vehicle maintenance log. Safe and secure online — accessible anytime, anywhere.</p>
                    <table>
                        <tr>
                            <td>
                                <img src="images/Maint_ServiceHistory.png" alt="Service History" />
                            </td>
                        </tr>
                    </table>
                    <br />
                    <h2 style="color:blue;padding:5px 0px;">And there's more...</h2>
                    <h3 style="padding:5px 0px;">Fuel Management Made Easy</h3>
                    <p style="color:#515151;font-size:14px;">Control fuel costs by managing fuel purchases.  Track utilization in MPG and cost-per-mile for each vehicle and compare with the rest of the fleet.</p>
                    <table>
                        <tr>
                            <td>
                                <img src="images/Maint_FuelHistory.png" alt="Fuel History" />
                            </td>
                        </tr>
                    </table>
                    <br />
                    <h3 style="padding:5px 0px;">In short, this module will help you:</h3>
                    <ul style="padding-left:10px;">
                        <li style="margin-left:10px;padding:5px;color:#515151;font-size:14px;">Schedule and track preventive maintenance</li>
                        <li style="margin-left:10px;padding:5px;color:#515151;font-size:14px;">Reduce or eliminate unplanned vehicle downtime</li>
                        <li style="margin-left:10px;padding:5px;color:#515151;font-size:14px;">Increase vehicle productivity and extend vehicle life</li>
                        <li style="margin-left:10px;padding:5px;color:#515151;font-size:14px;">Identify and minimize maintenance rework</li>
                        <li style="margin-left:10px;padding:5px;color:#515151;font-size:14px;">Control fuel costs</li>
                    </ul>
                </div>
            </div>

            <div id="serviceModuleDiv" style="width:99%; margin:3px;display:none;">
                <!--<div class="page-header">
                  <h4>Vehicle Maintenance - Fleet Edition <small>Manage your vehicles services, fuel logs, and parts</small></h4>
                </div>-->
                <div class="container-fluid">
                    <div class="row-fluid">
                        <div class="span2">
                            <h3>Device Name:</h3>
                            <div id="vehiclesContainer">
                                <ul id="vehiclesList" kendo-panel-bar>
                                    <li class="k-state-active">
                                        <span class="k-link k-state-selected">Vehicles List</span>
                                        <ul ng-repeat="dev in devices">
                                            <li ng-click="pickDevice($index, $event)"><span>{{dev.name}}</span></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="span10">
                            <h3>{{dev.name}}</h3>
                            <div id="tabstrip" kendo-tab-strip style="width:100%;">
                                <ul>
                                    <li class="k-state-active">
                                        Vehicle Info
                                    </li>
                                    <li>
                                        Service Schedule
                                    </li>
                                    <li>
                                        Service Log
                                    </li>
                                    <!--<li>
                                        Parts/Materials
                                    </li>
                                    <li>
                                        Fuel Log
                                    </li>-->
                                </ul>

                                <!--Vehicle Info Tab-->
                                <div>
                                    <div>
                                        <div class="row-fluid">
                                            <div class="span12">
                                                <div class="btn-toolbar">
                                                    <div class="btn-group">
                                                        <button class="btn btn-warning" ng-click="editVehicleInfo()" ng-disabled="!dev.readOnly">Edit</button>
                                                        <button class="btn btn-success" ng-click="saveVehicleInfo()" ng-disabled="dev.readOnly">Save</button>
                                                        <button class="btn btn-danger" ng-click="cancelVehicleInfo()" ng-disabled="dev.readOnly">Cancel</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span3">
                                                <label>Make</label>
                                                <input type="text" placeholder="Name" ng-model="dev.name" ng-readonly="dev.readOnly">
                                            </div>
                                            <div class="span3">
                                                <label>Vehicle Type</label>
                                                <select id="cbxDevTypes" ng-model="dev.typeId" ng-options="item.id as item.name for item in vehicleTypes" style="height:18px;line-height:18px;" ng-readonly="dev.readOnly"></select>
                                            </div>
                                            <div class="span2">
                                                <label>Make</label>
                                                <input type="text" class="span12" placeholder="Make" ng-model="dev.make" ng-readonly="dev.readOnly">
                                            </div>
                                            <div class="span2">
                                                <label>Model</label>
                                                <input type="text" class="span12" placeholder="Model" ng-model="dev.model" ng-readonly="dev.readOnly">
                                            </div>
                                            <div class="span2">
                                                <label>Model Year</label>
                                                <input type="text" class="span12" placeholder="Model Year" ng-model="dev.modelYear" ng-readonly="dev.readOnly">
                                            </div>
                                        </div>
                                        <hr />
                                        <h5>Insurance Information</h5>
                                        <div class="row-fluid">
                                            <div class="span3">
                                                <label>Insurance Company</label>
                                                <input type="text" class="span12" placeholder="Insurance Company" ng-model="dev.insuranceCarrier" ng-readonly="dev.readOnly">
                                            </div>
                                            <div class="span3">
                                                <label>Account/Policy No.</label>
                                                <input type="text" class="span12" placeholder="Policy Number" ng-model="dev.insurancePolicyNo" ng-readonly="dev.readOnly">
                                            </div>
                                            <div class="span3">
                                                <label>Premium</label>
                                                <!--<input type="text" placeholder="Premium" ng-model="dev.insurancePremium" ng-readonly="dev.readOnly">-->
                                                <input type="number" class="span12" kendo-numeric-text-box ng-model="dev.insurancePremium"  ng-readonly="dev.readOnly"/>
                                            </div>
                                            <div class="span3">
                                                <label>Due On</label>
                                                <!--<input type="text" placeholder="Due On" ng-model="dev.insuranceDueOn" ng-readonly="dev.readOnly">-->
                                                <input  class="span12" kendo-date-picker ng-model="dev.insuranceDueOn" ng-readonly="dev.readOnly"/>
                                            </div>
                                        </div>
                                        <h5>Odometer / Engine Hours / PTO Hourmeters</h5>
                                        <div class="well well-small">
                                            <div class="row-fluid">
                                                <div class="span2">
                                                    <label>Odometer</label>
                                                    <input type="number" class="span12" kendo-numeric-text-box ng-model="dev.odometer"  ng-readonly="dev.readOnly"/>
                                                </div>
                                                <div class="span2">
                                                    <label>Engine Hours</label>
                                                    <input type="number" class="span12" kendo-numeric-text-box ng-model="dev.ignitionHours"  ng-readonly="dev.readOnly"/>
                                                </div>
                                                <div class="span2">
                                                    <label>1: {{dev.input1Name}}</label>
                                                    <input type="number" class="span12" kendo-numeric-text-box ng-model="dev.input1Hours "  ng-readonly="dev.readOnly"/>
                                                </div>
                                                <div class="span2">
                                                    <label>2: {{dev.input2Name}}</label>
                                                    <input type="number" class="span12" kendo-numeric-text-box ng-model="dev.input2Hours "  ng-readonly="dev.readOnly"/>
                                                </div>
                                                <div class="span2">
                                                    <label>3: {{dev.input3Name}}</label>
                                                    <input type="number" class="span12" kendo-numeric-text-box ng-model="dev.input3Hours "  ng-readonly="dev.readOnly"/>
                                                </div>
                                                <div class="span2">
                                                    <label>4: {{dev.input4Name}}</label>
                                                    <input type="number" class="span12" kendo-numeric-text-box ng-model="dev.input4Hours "  ng-readonly="dev.readOnly"/>
                                                </div>
                                            </div>
                                        </div>
                                        <h5>Notes</h5>
                                        <div class="row-fluid">
                                            <div class="span12">
                                                <textarea class="span12" rows="10" cols="200" ng-model="dev.notes" ng-readonly="dev.readOnly"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--Service Schedule Tab-->
                                <div>
                                    <div class="">
                                        <div class="row-fluid">
                                            <div class="span12">
                                                <div class="btn-toolbar">
                                                    <div class="btn-group">
                                                        <button class="btn btn-success" ng-click="newServiceItemDlg()">New</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="well">
                                            <div class="row-fluid">
                                                <div class="span2">
                                                    <label>Odometer</label>
                                                    <input type="number" class="span12" kendo-numeric-text-box ng-model="dev.odometer"  ng-readonly="true"/>
                                                </div>
                                                <div class="span2">
                                                    <label>Engine Hours</label>
                                                    <input type="number" class="span12" kendo-numeric-text-box ng-model="dev.ignitionHours"  ng-readonly="true"/>
                                                </div>
                                                <div class="span2">
                                                    <label>1: {{dev.input1Name}}</label>
                                                    <input type="number" class="span12" kendo-numeric-text-box ng-model="dev.input1Hours "  ng-readonly="true"/>
                                                </div>
                                                <div class="span2">
                                                    <label>2: {{dev.input2Name}}</label>
                                                    <input type="number" class="span12" kendo-numeric-text-box ng-model="dev.input2Hours "  ng-readonly="true"/>
                                                </div>
                                                <div class="span2">
                                                    <label>3: {{dev.input3Name}}</label>
                                                    <input type="number" class="span12" kendo-numeric-text-box ng-model="dev.input3Hours "  ng-readonly="true"/>
                                                </div>
                                                <div class="span2">
                                                    <label>4: {{dev.input4Name}}</label>
                                                    <input type="number" class="span12" kendo-numeric-text-box ng-model="dev.input4Hours "  ng-readonly="true"/>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span12">
                                                <table class="k-grid" style="width:100%;" style="padding:2px;margin:2px;">
                                                    <thead class="k-grid-header">
                                                        <tr>
                                                            <td class="k-grid-column-menu" style="width:80px;">Service Item</td>
                                                            <td class="k-grid-column-menu" style="width:80px;">Last Performed</td>
                                                            <td class="k-grid-column-menu" style="width:80px;">Frequency</td>
                                                            <td class="k-grid-column-menu" style="width:80px;">Next Due</td>
                                                            <td class="k-grid-column-menu" style="width:80px;">Complete</td>
                                                            <td class="k-grid-column-menu" style="width:80px;">Edit</td>
                                                            <td class="k-grid-column-menu" style="width:80px;">Delete</td>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="k-grid-content">
                                                        <tr ng-repeat="itm in devSchedule">
                                                            <td class="span2 devicesListTD" ng-class="{isOverdue: itm.isOverdue}">{{itm.taskName}}</td>
                                                            <td class="span1 devicesListTD" ng-class="{isOverdue: itm.isOverdue}">{{itm.lastServiceOn}}</td>
                                                            <td class="devicesListTD" ng-class="{isOverdue: itm.isOverdue}">{{itm.frequency}}</td>
                                                            <td class="devicesListTD" ng-class="{isOverdue: itm.isOverdue}">{{itm.nextDueInWords}}</td>
                                                            <td class="span1 devicesListTD"><button class="btn btn-mini btn-success" ng-click="completeMaintItem($index)">Complete</button></td>
                                                            <td class="span1 devicesListTD"><button class="btn btn-mini" ng-click="editMaintItem($index)">Edit</button></td>
                                                            <td class="span1 devicesListTD"><button class="btn btn-mini btn-danger" ng-click="deleteMaintItem(itm.id)">Delete</button></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--Service Log Tab-->
                                <div>
                                    <div class="">
                                        <div class="row-fluid">
                                            <div class="span12">
                                                <div class="btn-toolbar">
                                                    <div class="btn-group">
                                                        <button class="btn btn-success" ng-click="newCompleteMaintItem()">New</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span12">
                                                <table class="k-grid" style="width:100%;" style="padding:2px;margin:2px;">
                                                    <thead class="k-grid-header">
                                                        <tr>
                                                            <td class="k-grid-column-menu" style="width:50px;">Date</td>
                                                            <td class="k-grid-column-menu" style="width:80px;">Service Item</td>
                                                            <td class="k-grid-column-menu devicesListRightTD" style="width:80px;">Odometer</td>
                                                            <td class="k-grid-column-menu devicesListRightTD" style="width:80px;">Engine Hours</td>
                                                            <td class="k-grid-column-menu devicesListRightTD" style="width:80px;">Input 1</td>
                                                            <td class="k-grid-column-menu devicesListRightTD" style="width:80px;">Input 2</td>
                                                            <td class="k-grid-column-menu devicesListRightTD" style="width:80px;">Input 3</td>
                                                            <td class="k-grid-column-menu devicesListRightTD" style="width:80px;">Input 4</td>
                                                            <td class="k-grid-column-menu devicesListRightTD" style="width:80px;">Cost</td>
                                                            <!--<td class="k-grid-column-menu" style="width:80px;">Edit</td>
                                                            <td class="k-grid-column-menu" style="width:80px;">Delete</td>-->
                                                        </tr>
                                                    </thead>
                                                    <tbody class="k-grid-content">
                                                        <tr ng-repeat="itm in devLog">
                                                            <td class="span1 devicesListTD">{{itm.completedOn}}</td>
                                                            <td class="span2 devicesListTD">{{itm.taskName}}</td>
                                                            <td class="span1 devicesListTD devicesListRightTD">{{itm.odometer | number:0}}</td>
                                                            <td class="span1 devicesListTD devicesListRightTD">{{itm.ignitionHours | number:0}}</td>
                                                            <td class="span1 devicesListTD devicesListRightTD">{{itm.input1Hours | number:0}}</td>
                                                            <td class="span1 devicesListTD devicesListRightTD">{{itm.input2Hours | number:0}}</td>
                                                            <td class="span1 devicesListTD devicesListRightTD">{{itm.input3Hours | number:0}}</td>
                                                            <td class="span1 devicesListTD devicesListRightTD">{{itm.input4Hours | number:0}}</td>
                                                            <td class="span1 devicesListTD devicesListRightTD">{{itm.cost | currency}}</td>
                                                            <!--<td class="span1 devicesListTD"><button class="btn btn-mini" ng-click="editLogItem($index)">Edit</button></td>
                                                            <td class="span1 devicesListTD"><button class="btn btn-mini btn-danger" ng-click="deleteLogItem(itm.id)">Delete</button></td>-->
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--Parts/Materials Tab-->
                                <!--<div>
                                    <div class="">
                                        <h2>Parts/Materials</h2>
                                    </div>
                                </div>-->

                                <!--Fuel Log Tab-->
                                <!--<div>
                                    <div class="">
                                        <h2>Fuel Log</h2>
                                    </div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                </div>

                <div id="dlgScheduleItem" title="Schedule Item" style="display:none;">
                    <div class="k-content">
                        <h4>{{dev.name}}</h4>
                        <div class="k-block k-info-colored">
                            <div class="row-fluid">
                                <div class="span6">
                                    <h5>Service Item</h5>
                                    <select id="cbxTasks" class="span12" ng-model="maintItem.taskId" ng-options="item.id as item.name for item in maintTasks" ng-change="onChangeTasks()" style="height:18px;line-height:18px;"></select>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span12">
                                    <h5>Schedule</h5>
                                    <div class="row-fluid">
                                        <div class="span2">
                                            <label>Repeat every</label>
                                        </div>
                                        <div class="span10">
                                            <div class="row-fluid">
                                                <div class="span2">
                                                    <input type="number" class="span12" kendo-numeric-text-box k-format="'###'" ng-model="maintItem.repeatEveryX" />
                                                </div>
                                                <div class="span2">
                                                    <select id="cbxTimeReference" class="span12" ng-model="maintItem.repeatEveryTimeRefId" ng-options="item.id as item.name for item in timeReferences" ng-change="onChangeTimeRef()"></select>
                                                </div>
                                                <div class="span1">
                                                    <label>Or</label>
                                                </div>
                                                <div class="span3">
                                                    <select id="cbxMeassures" class="span12" ng-model="maintItem.meassureId" ng-options="item.id as item.name for item in maintMeassures" ng-change="onChangeMeassures()" style="height:18px;line-height:18px;"></select>
                                                </div>
                                                <div class="span2">
                                                    <input type="number" class="span12" kendo-numeric-text-box ng-model="maintItem.meassureValue" ng-change="onChangeMeassureValue()"/>
                                                </div>
                                                <div class="span2">
                                                    {{meassureUnitName}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row-fluid">
                                        <div class="span2">
                                            <label>Next Due</label>
                                        </div>
                                        <div class="span10">
                                            <div class="span4">
                                                <input class="span12" kendo-date-picker ng-model="maintItem.nextDue" />
                                            </div>
                                            <div class="span1">
                                                <label>Or</label>
                                            </div>
                                            <div class="span3">
                                                <input type="number" class="span12" kendo-numeric-text-box ng-model="maintItem.nextMeassureValue" />
                                            </div>
                                            <div class="span3">
                                                 {{meassureUnitName}} in {{meassureName}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span12">
                                    <h5>Reminder</h5>
                                    <div class="row-fluid">
                                        <div class="span2">
                                            <input type="number" class="span12" kendo-numeric-text-box ng-model="maintItem.reminderTimeRefVal"/>
                                        </div>
                                        <div class="span2">
                                            <select id="cbxReminderTimeRef" class="span12" ng-model="maintItem.reminderTimeRefId" ng-options="item.id as item.name for item in timeReferences"></select>
                                        </div>
                                        <div class="span1">
                                            <label>Or</label>
                                        </div>
                                        <div class="span2">
                                            <input type="number" class="span12" kendo-numeric-text-box ng-model="maintItem.reminderMeassureVal" />
                                        </div>
                                        <div class="span4">
                                            <label>
                                                {{meassureUnitName}} before due
                                            </label>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span12">
                                    <h5>Notes:</h5>
                                    <textarea class="span12" rows="5" cols="200" ng-model="maintItem.notes"></textarea>
                                </div>
                            </div>
                        </div>
                        <hr />
                        <div class="pull-right">
                            <button type="button" class="btn btn-success" ng-click="saveMaintItem()">Save</button>
                            <button type="button" class="btn btn-success" ng-click="saveNewMaintItem()">Save and New</button>
                            <button type="button" class="btn btn-danger" ng-click="closeMaintItemDlg()">Cancel</button>
                        </div>
                    </div>
                </div>

                <div id="dlgCompleteMaintItem" title="Register Maintenance Item" style="display:none;">
                    <div class="k-content">
                        <h4>{{dev.name}}</h4>
                        <div class="k-block k-info-colored">
                            <div class="row-fluid">
                                <div class="span6">
                                    <h5>Service Item</h5>
                                    <select class="span12" ng-model="maintItem.taskId" ng-options="item.id as item.name for item in maintTasks" ng-change="onChangeTasks()" style="height:18px;line-height:18px;"></select>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span4">
                                    <label>Job Description:</label>
                                </div>
                                <div class="span8">
                                    <input type="text" class="span12" placeholder="Job Description" ng-model="maintItem.jobDescription">
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span4">
                                    <label>Service Completed On</label>
                                </div>
                                <div class="span2">
                                    <input class="span12" kendo-date-picker ng-model="maintItem.completedOn" />
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span4">
                                    <label>Service Cost:</label>
                                </div>
                                <div class="span2">
                                    <input type="number" class="span12" kendo-numeric-text-box ng-model="maintItem.cost" />
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span12">
                                    <h5>Notes:</h5>
                                    <textarea class="span12" rows="5" cols="200" ng-model="maintItem.notes"></textarea>
                                </div>
                            </div>
                        </div>
                        <hr />
                        <div class="pull-right">
                            <button class="btn btn-success" ng-click="saveCompleteMaintItem()">Save</button>
                            <button class="btn btn-success" ng-click="saveNewCompleteMaintItem()">Save and New</button>
                            <button class="btn btn-danger" ng-click="closeCompleteMaintItemDlg()">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="maintItemsDiv" style="width:99%; margin:3px;display:none;">

            </div>

            <div id="tasksDiv" style="width:100%; display:none;">
                <div style="width:100%;text-align:center;">
                    <h3>Create / Update Service Items</h3>
                </div>
                <div style="float:right;width:100px;text-align:right;padding:5px;">
                    <button class="btn" id="btnNewMaintenanceTask" onclick="newMaintenanceTask()">New</button>
                </div>
                <div style="width:400px;margin-top:10px;border:0px solid red;">
                    <p>Create as many tasks as you need.</p>
                </div>
                <table id="maintTasksTbl" style="width:100%;border:1px solid #a1a1a1;">
                    <tr id="maintTasksTblTitle" style="background-color:#0000ff;color:#ffffff;height:20px;">
                        <td style="width:200px;">Name</td>
                        <td style="width:200px;">Meassure</td>
                        <td style="text-align:right;width:80px;">Value</td>
                        <td style="text-align:center;width:40px;">Edit</td>
                        <td style="text-align:center;width:40px;">Del</td>
                    </tr>
                </table>
            </div>
            <div id="maintenanceSchedulesDiv" style="width:100%; display:none;">
                <div style="width:100%;text-align:center;">
                    <h3>Maintenance Schedules</h3>
                </div>
                <div class="form-inline">
                    <label class="control-label" for="cbxSchedDevFilter">Device:</label>
                    <select id="cbxSchedDevFilter"><option value="0">[Pick one]</option></select>
                    <label class="control-label" for="cbxSchedTaskFilter">Task:</label>
                    <select id="cbxSchedTaskFilter"><option value="0">[Pick one]</option></select>
                    <button class="btn" onclick="btnSchedApplyFilter()">Apply Data Filter</button>
                </div>
                <div style="text-align:right;padding:5px;">
                    <button class="btn" id="btnNewSchedule" onclick="newMaintSchedule()">New</button>
                </div>
                <table id="maintSchedulesTbl" style="width:100%;border:1px solid #a1a1a1;">
                    <tr id="maintSchedulesTblTitle" style="background-color:#0000ff;color:#ffffff;height:20px;">
                        <td style="width:150px; padding:0px 2px;">Device</td>
                        <td style="width:150px; padding:0px 2px;">Task</td>
                        <td style="width:100px; padding:0px 2px;">Meassure</td>
                        <td style="width:100px; padding:0px 2px;">Service every:</td>
                        <td style="width:100px; padding:0px 2px;">Current Value: &nbsp; <img id="help_currentValue" src="icons\exclamation12x12.png" alt="help" title="Current Value: Is calculated after midnight, every 24 hours." /></td>
                        <td style="width:100px; padding:0px 2px;">Next Service in:</td>
                        <td style="text-align:center;width:100px; padding:0px 2px;">Last Service Date</td>
                        <td style="text-align:center;width:40px; padding:0px 2px;">Edit</td>
                        <td style="text-align:center;width:40px; padding:0px 2px;">Del</td>
                    </tr>
                </table>
            </div>
            <div id="maintenanceHistoryDiv" style="width:100%; display:none;">
                <div style="width:100%;text-align:center;">
                    <h3>Maintenance History</h3>
                </div>
                <div class="form-inline">
                    <label class="control-label" for="cbxHServicesDevices">Device:</label>
                    <select id="cbxHServicesDevices"><option value="0">[Pick one]</option></select>
                    <label class="control-label" for="cbxHServicesTasks">Task:</label>
                    <select id="cbxHServicesTasks"><option value="0">[Pick one]</option></select>
                    <label class="control-label" for="dtpHServicesFrom">Date From:</label>
                    <input id="dtpHServicesFrom" type="text" style="font-size:11px; width:100px;" value="" />
                    <label class="control-label" for="dtpHServicesTo">Date To:</label>
                    <input id="dtpHServicesTo" type="text" style="font-size:11px; width:100px;" value="" />
                    <button class="btn" onclick="getHServicesData()">Get Data</button>
                </div>
                <br />
                <table id="maintHServicesTbl" style="width:99%;padding:3px;">
                    <tr id="maintHServicesTblTitle" style="background-color:#0000ff;color:#ffffff;height:20px;">
                        <td style="width:100px; padding:0px 2px;">Device</td>
                        <td style="width:100px; padding:0px 2px;">Task</td>
                        <td style="width:100px; padding:0px 2px;">Service Date</td>
                        <td style="width:100px; padding:0px 2px;text-align:right; padding-right:10px;">Odometer</td>
                        <td style="width:100px; padding:0px 2px;text-align:right; padding-right:10px;">Cost</td>
                        <td style="width:300px; padding:0px 2px;">Comments</td>
                    </tr>
                </table>
            </div>
            <div id="fuelLogHistoryDiv" style="width:100%; display:none;">
                <div style="width:100%;text-align:center;">
                    <h3>Fuel Log History</h3>
                </div>
                <div class="form-inline">
                    <label class="control-label" for="cbxHFuelDevices">Device:</label>
                    <select id="cbxHFuelDevices"><option value="0">[Pick one]</option></select>
                    <label class="control-label" for="dtpHFuelFrom">Date From:</label>
                    <input id="dtpHFuelFrom" type="text" style="font-size:11px; width:100px;" value="" />
                    <label class="control-label" for="dtpHFuelTo">Date To:</label>
                    <input id="dtpHFuelTo" type="text" style="font-size:11px; width:100px;" value="" />
                    <button class="btn" onclick="getHFuelData()">Get Data</button>
                </div>
                <br />
                <table id="maintHFuelTbl" style="width:99%;padding:3px;">
                    <tr id="maintHFuelTblTitle" style="background-color:#0000ff;color:#ffffff;height:20px;">
                        <td style="width:100px; padding:0px 2px;">Device</td>
                        <td style="width:80px; padding:0px 2px;">Fueling Date</td>
                        <td style="width:80px; padding:0px 2px;text-align:right; padding-right:10px;">Odometer</td>
                        <td style="width:80px; padding:0px 2px;text-align:right; padding-right:10px;">Gallons</td>
                        <td style="width:80px; padding:0px 2px;text-align:right; padding-right:10px;">Cost</td>
                        <td style="width:80px; padding:0px 2px;">State</td>
                        <td style="width:250px; padding:0px 2px;">Comments</td>
                    </tr>
                </table>
            </div>
            <div id="registerServicesDiv" style="width:100%; display:none;">
                <div style="width:100%;text-align:center;">
                    <h3>Register Services Performed</h3>
                </div>
                <div style="padding:5px;">
                    <button onclick="clearAllServiceLog()">Clear All</button>
                </div>
                <div id="serviceLogContent">
                    <table id="regServiceTbl" style="padding:10px;border:1px solid #a1a1a1; border-bottom: 2px solid #a1a1a1;border-right: 2px solid #a1a1a1; background-color:#f4f3f3;">
                        <tr>
                            <td style="padding:3px;">Pick the device:</td>
                            <td style="padding:3px;"><select id="cbxRegServiceDevices" onchange="clearAllServiceLogForm()"><option value="0">[Pick one]</option></select></td>
                        </tr>
                        <tr>
                            <td style="padding:3px;">Service Date:</td>
                            <td style="padding:3px;"><input id="dtpRegServiceDate" type="text" style="font-size:11px; width:100px;" value="" /></td>
                        </tr>
                        <tr>
                            <td style="padding:3px;">Odometer on day of service:</td>
                            <td style="padding:3px;"><input id="txtRegServiceOdometer" style="width:100px;" /></td>
                        </tr>
                    </table>
                    <br />
                    <table id="regServiceDetTbl" style="width:99%;padding:10px;border:1px solid #a1a1a1; border-bottom: 2px solid #a1a1a1;border-right: 2px solid #a1a1a1; background-color:#f4f3f3;">
                        <tr>
                            <td style="padding:3px;">Service Type</td>
                            <td style="padding:3px;">Service performed</td>
                            <td style="padding:3px;">Description</td>
                            <td style="padding:3px;">Cost</td>
                            <td style="padding:3px;">Comments</td>
                        </tr>
                        <tr>
                            <td style="padding:3px;vertical-align:top;"><select id="cbxRegServiceTypes" onchange="changeMaintServiceType()"><option value="0">[Pick one]</option></select></td>
                            <td id="regServicePM" style="padding:3px;vertical-align:top;"><select id="cbxRegServiceTasks"><option value="0">[Pick one]</option></select></td>
                            <td id="regServiceRepair" style="padding:3px;vertical-align:top;"><input id="txtRegServiceDescription" style="width:300px;" /></td>
                            <td style="padding:3px;vertical-align:top;"><input id="txtRegServiceCost" style="width:100px;" /></td>
                            <td style="padding:3px;vertical-align:top;"><textarea cols="50" rows="3" id="txtRegServiceComments"></textarea></td>
                        </tr>
                    </table>
                    <table style="width:99%;padding:3px;">
                        <tr>
                            <td colspan="2" style="text-align:right;">
                                <div style="display:inline;">
                                    <button onclick="saveServiceLog()">Add Service</button><button style="background-color:Red;" onclick="cancelServiceLog()">Cancel</button>
                                </div>
                            </td>
                        </tr>
                    </table>
                    <table id="maintServiceLogTbl" style="width:99%;padding:3px;">
                        <tr id="maintServiceLogTblTitle" style="background-color:#0000ff;color:#ffffff;height:20px;">
                            <td style="width:150px; padding:0px 2px;">Device</td>
                            <td style="width:150px; padding:0px 2px;">Type</td>
                            <td style="width:150px; padding:0px 2px;">Description</td>
                            <td style="width:150px; padding:0px 2px;">Service Date</td>
                            <td style="width:150px; padding:0px 2px;">Odometer</td>
                            <td style="width:150px; padding:0px 2px;">Cost</td>
                            <td style="text-align:center;width:40px; padding:0px 2px;">Edit</td>
                            <td style="text-align:center;width:40px; padding:0px 2px;">Del</td>
                        </tr>
                    </table>
                </div>
                <div>
                    <button onclick="printServiceSheet();"><img src="images/printPage.gif" alt="Print Service Sheet"/></button>
                </div>
            </div>
            <div id="registerFuelLogDiv" style="width:100%; display:none;">
                <div style="width:100%;text-align:center;">
                    <h3>Register Fuel Log</h3>
                </div>
                <div style="padding:5px;">
                    <button id="regFuelClearAll" onclick="clearAllFuelLog()">Clear All</button>
                </div>
                <table id="regFuelLogTbl" style="width:99%;padding:10px;border:1px solid #a1a1a1; border-bottom: 2px solid #a1a1a1;border-right: 2px solid #a1a1a1; background-color:#f4f3f3;">
                    <tr>
                        <td style="padding:3px;">Pick the device:</td>
                        <td style="padding:3px;"><select id="cbxRegFuelDevices" onchange="clearAllFuelLogForm()"><option value="0">[Pick one]</option></select></td>
                    </tr>
                    <tr>
                        <td style="padding:3px;">Fueling Date:</td>
                        <td style="padding:3px;"><input id="dtpRegFuelDate" type="text" style="font-size:11px; width:100px;" value="" /></td>
                    </tr>
                    <tr>
                        <td style="padding:3px;">Odometer:</td>
                        <td style="padding:3px;"><input id="txtRegFuelOdometer" style="width:100px;" /></td>
                    </tr>
                    <tr>
                        <td style="padding:3px;">Gallons:</td>
                        <td style="padding:3px;"><input id="txtRegFuelGallons" style="width:100px;" /></td>
                    </tr>
                    <tr>
                        <td style="padding:3px;">Cost:</td>
                        <td style="padding:3px;"><input id="txtRegFuelCost" style="width:100px;" /></td>
                    </tr>
                    <tr>
                        <td style="padding:3px;">State:</td>
                        <td style="padding:3px;"><select id="cbxRegFuelStates"><option value="0">[Pick one]</option></select></td>
                    </tr>
                    <tr>
                        <td style="padding:3px;">Comments</td>
                        <td style="padding:3px;"><textarea cols="100" rows="3" id="txtRegFuelComments"></textarea></td>
                    </tr>
                </table>
                <br />
                <table style="width:99%;padding:3px;">
                    <tr>
                        <td colspan="2" style="text-align:right;">
                            <div style="display:inline;">
                                <button onclick="saveFuelLog()">Save</button><button style="background-color:Red;" onclick="cancelFuelLog()">Cancel</button>
                            </div>
                        </td>
                    </tr>
                </table>
                <table id="maintFuelLogTbl" style="width:99%;padding:3px;">
                    <tr id="maintFuelLogTblTitle" style="background-color:#0000ff;color:#ffffff;height:20px;">
                        <td style="width:150px; padding:0px 2px;">Device</td>
                        <td style="width:150px; padding:0px 2px;">Fueling Date</td>
                        <td style="width:150px; padding:0px 2px;">Odometer</td>
                        <td style="width:150px; padding:0px 2px;">Gallons</td>
                        <td style="width:150px; padding:0px 2px;">Cost</td>
                        <td style="width:150px; padding:0px 2px;">State</td>
                        <td style="text-align:center;width:40px; padding:0px 2px;">Edit</td>
                        <td style="text-align:center;width:40px; padding:0px 2px;">Del</td>
                    </tr>
                </table>
            </div>
        </div>
        <div id="ctrlPanel">
            <div id="ctrlPanelContainer">
                <div id="ctrlPanelContent">
                    <div style="width:100%; display:block;">
                        <p class="panelTitle">Maintenance Settings<span style="padding-left:10px;font-size:10px;font-weight:100;color:red;cursor:pointer;" onclick="showMaintenanceDivs(0)">(Intro)</span></p>
                    </div>
                    <div style="width:100%; display:block; font-size:11px; margin-top:5px;">
                        <p class="maintItem" onclick="showMaintenanceDivs(1)"><span>Service Items</span></p>
                        <p class="maintItem" onclick="showMaintenanceDivs(7)"><span>Fleet Information</span></p>
                        <p class="maintItem" onclick="showMaintenanceDivs(2)"><span>Maintenance Schedules</span></p>
                        <p class="maintItem" onclick="showMaintenanceDivs(3)"><span>Maintenance History</span></p>
                        <p class="maintItem" onclick="showMaintenanceDivs(6)"><span>Fuel Log History</span></p>
                        <br />
                        <hr />
                        <br />
                        <button onclick="showMaintenanceDivs(4)" style="width:150px; height:50px;background-color:Yellow;font-weight:600; cursor:pointer;">Register Services Performed</button>
                        <br />
                        <br />
                        <button onclick="showMaintenanceDivs(5)" style="width:150px; height:50px;background-color: Lime;font-weight:600; cursor:pointer;">Register Fuel Log</button>
                        <br />
                        <br />
                    </div>
                </div> 
            </div>
        </div>
    </div>

    <div id="newTaskDlg" title="Create / Update a Task" style="display:none;">
        <p class="validateTips"></p>
        <fieldset>
            <table style="width:100%;">
                <tr>
                    <td class="cellpading">Name:</td>
                    <td class="cellpading"><input id="newTaskName" style="width:200px;" /></td>
                </tr>
                <tr>
                    <td class="cellpading">Meassure:</td>
                    <td class="cellpading"><select id="cbxNewTaskMeassures"><option value="0">[Pick one]</option></select></td>
                </tr>
                <tr id="newTaskDlgValueTR">
                    <td class="cellpading">Value:</td>
                    <td class="cellpading"><input id="newTaskValue" style="width:80px;" /> <span id="newTaskDlgValueName"></span></td>
                </tr>
                <tr>
                    <td colspan="2">
                        <div style="width:100%; text-align:center;">
                            <h4>Send Notifications To:</h4>
                        </div>
                        <div style="width:100%; height:150px; overflow:auto; border:1px solid #a0a0a0;">
                            <table id="newTaskAlertUsersTbl">
                                <thead>
                                    <tr>
                                        <th style="width:350px; font-weight:600; text-align:left;">User</th>
                                        <th style="width:50px; font-weight:600;text-align:left;">Email</th>
                                    </tr>
                                </thead>
                                <tbody id="taskAlertsTBody"></tbody>
                            </table>
                        </div>
                    </td>
                </tr>
            </table>
        </fieldset>
    </div>
    <div id="taskRemoveDlg" title="Remove Task" style="display:none;">
        <p>Are you sure you want to remove <span id="taskRemoveName"></span>?</p>
    </div>

    <div id="newScheduleDlg" title="Create / Update Schedule" style="display:none;">
        <p class="validateTips"></p>
        <fieldset>
            <table style="width:100%;">
                <tr id="newScheduleDlgDeviceTR" style="display:none;">
                    <td class="cellpading">Device</td>
                    <td class="cellpading"><select id="cbxNewScheduleDevices"><option value="0">[Pick one]</option></select></td>
                </tr>
                <tr id="editScheduleDlgDeviceTR" style="display:none;">
                    <td class="cellpading">Device</td>
                    <td class="cellpading"><input id="txtEditScheduleDevice" style="width:200px;" readonly="readonly" /> </td>
                </tr>
                <tr id="newScheduleDlgTaskTR" style="display:none;">
                    <td class="cellpading">Task</td>
                    <td class="cellpading"><select id="cbxNewScheduleTasks" onchange="setNewScheduleMeassureUnitName()"><option value="0">[Pick one]</option></select></td>
                </tr>
                <tr id="editScheduleDlgTaskTR" style="display:none;">
                    <td class="cellpading">Task</td>
                    <td class="cellpading"><input id="txtEditScheduleTask" style="width:200px;" readonly="readonly" /> </td>
                </tr>
                <tr>
                    <td class="cellpading">Service <span id="newScheduleTaskName"></span> every</td>
                    <td class="cellpading"><input id="newScheduleTaskValue" style="width:80px;" /> <span class="newScheduleMeassureName"></span></td>
                </tr>
                <tr id="newScheduleDlgLastDateTr">
                    <td class="cellpading">Aprox. Last Service Date</td>
                    <td class="cellpading"><input id="dtpNewScheduleLastService" type="text" style="font-size:11px; width:65px;" value="" /></td>
                </tr>
                <tr id="newScheduleDlgValueTr">
                    <td class="cellpading">Aprox. <span class="newScheduleMeassureName"></span> since last service:</td>
                    <td class="cellpading"><input id="newScheduleValue" style="width:65px;" /> <span id="newScheduleValueName"></span></td>
                </tr>
                <tr>
                    <td class="cellpading">Send notifications</td>
                    <td class="cellpading"><input id="newScheduleNotifications" type="text" style="font-size:11px; width:30px;" value="" /> <span class="newScheduleMeassureName"></span> before.</td>
                </tr>
                <tr>
                    <td class="cellpading" style="vertical-align:top;">Notifications frequency</td>
                    <td class="cellpading" style="vertical-align:top;">
                        <table>
                            <tr>
                                <td><input type="radio" id="notifTypeOnce" name="notificationType" checked="checked" value="once" />Only Once</td>
                            </tr>
                            <tr>
                                <td><input type="radio" id="notifTypeMany" name="notificationType" value="many" />Every 
                                        <select id="cbxNotifyEveryXDays" style="width:60px;">
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                        </select> day(s), <input id="excludeWeekends" type="checkbox" /> except weekends</td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <!--<tr>
                    <td colspan="2">
                        <div style="width:100%; text-align:center;">
                            <h3>Notifications</h3>
                        </div>
                        <div style="width:100%; height:150px; overflow:auto; border:1px solid #a0a0a0;">
                            <table id="newMaintAlertUsersTbl">
                            </table>
                        </div>
                    </td>
                </tr>-->
            </table>
        </fieldset>
    </div>
    <div id="scheduleRemoveDlg" title="Remove Task" style="display:none;">
        <p>Are you sure you want to remove this schedule?</p>
    </div>

    <div id="serviceLogRemoveDlg" title="Remove Service Log" style="display:none;">
        <p>Are you sure you want to remove this service log entry?</p>
    </div>

    <div id="fuelLogRemoveDlg" title="Remove Fuel Log" style="display:none;">
        <p>Are you sure you want to remove this fuel log entry?</p>
    </div>

    <div id="waitingSpinner" style="display:none;"><p><img src="images/loading.gif" alt="Loading Spinner" width="100" height="100" /></p></div>

     <script id="userAlertTR-template" type="text/template">
            <% _.each(users, function(user){ %>
                <tr id="chkTaskAlertUserTr<%= user.userId%>" data-userId="<%= user.userId%>">
                    <td><%= user.fullName%></td>
                    <td><input type="checkbox" id="chkNewAlertUserEmail<%= user.userId%>" data-userId="<%= user.userId%>" style="padding:3px;" <% if (user.isEmail) { %>checked="checked"<% } %>/></td>
                </tr>
            <% }); %>
     </script>

    <script type="text/javascript" src="https://code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/ui/1.10.2/jquery-ui.min.js"></script>
    <script src="Scripts/underscore-min.js" type="text/javascript"></script>

    <script src="vendors/angular.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.5/angular-resource.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.5/angular-route.min.js" type="text/javascript"></script>

    <script src="bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="Scripts/jquery.json-2.3.min.js" type="text/javascript"></script>
    <script src="Scripts/jquery.tools.min.js" type="text/javascript"></script>
    <script src="Scripts/date.format.js" type="text/javascript"></script>
    <script src="Scripts/db_v002.js" type="text/javascript"></script>
    <script src="Scripts/branding.js" type="text/javascript"></script>
    <script src="Scripts/authorization_006.js" type="text/javascript"></script>
    <script src="Scripts/utilities_002.js" type="text/javascript"></script>
    <script src="Scripts/users_001.js" type="text/javascript"></script>
    <script src="Scripts/maintenance.js" type="text/javascript"></script>
    <script src="Scripts/maintSchedules.js" type="text/javascript"></script>
    <script src="Scripts/maintServiceLog.js" type="text/javascript"></script>
    <script src="Scripts/maintFuelLog.js" type="text/javascript"></script>
    <script src="Scripts/maintServiceHistory.js" type="text/javascript"></script>
    <script src="Scripts/maintFuelHistory.js" type="text/javascript"></script>

    <script src="vendors/kendo-2013.3.1119/js/kendo.web.min.js"></script>
    <script src="vendors/angular-kendo.min.js"></script>
    <script src="vendors/xdate.js"></script>

    <script src="appMaintenance/etApp.js"></script>
    <script src="appMaintenance/services/services.js"></script>
    <script src="appMaintenance/controllers/serviceModuleCtrl.js"></script>
    <script src="appMaintenance/controllers/maintSchedule.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            getAppFeatures(5);
            getBrand();
            $("#waitingSpinner").attr('style', 'display:none;width:100px;height:100px;right:' + (w / 2) + 'px;top:' + (h / 2) + 'px;position:fixed;z-index:999;');
            $(document.getElementById('ctrlPanel')).attr('style', 'height:' + (h - 80) + 'px; width:13%; float:left; overflow:hidden; display:inline-block;');
            $(document.getElementById('maintenanceContent')).attr('style', 'height:' + (h - 80) + 'px; width:84%; float:right;overflow:auto;margin-right:2px; display:inline-block;');
            $('#vehiclesContainer').attr('style', 'max-height:' + (h - 80) + 'px;overflow:auto;');
            if (validateToken(false, 'maintenance.html') == true) {
                setWelcomeTitle();
                setLiveChat();
                setWebEngage();
            }

            $("#tabstrip").kendoTabStrip({
                animation: {
                    open: {
                        effects: "fadeIn"
                    }
                }
            });

            $("#vehiclesList").kendoPanelBar({
                expandMode: "single"
            });

            $("#dlgScheduleItem").dialog({
                autoOpen: false,
                resizable: false,
                height: 600,
                width: 800,
                modal: true
            });

            $("#dlgCompleteMaintItem").dialog({
                autoOpen: false,
                resizable: false,
                height: 500,
                width: 800,
                modal: true
            });

            showMaintenanceDivs(7);
        });
    </script>

</body>
</html>
