<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tracking Number Panel</title>

    <!--    CSS includes -->
    <!-- <link href="Styles/common.css" rel="stylesheet" type="text/css" /> --->
    <link href="themes/base/jquery.ui.all.css" rel="stylesheet" type="text/css" />
    <link href="themes/flick/jquery.ui.all.css" rel="stylesheet" type="text/css" />
    <link href="Styles/app.css" rel="stylesheet" type="text/css" />
    <link href="Styles/logo.css" rel="stylesheet" type="text/css" />
    <link href="Styles/toggleSwitches.css" rel="stylesheet" type="text/css" />
    <link href="vendors/kendo-2013.3.1119/styles/kendo.common.min.css" rel="stylesheet" />
    <link href="vendors/kendo-2013.3.1119/styles/kendo.default.min.css" rel="stylesheet" />
    <!--<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />-->
    <!-----custome files----------->
    <!--<link rel="stylesheet" href="css/bootstrap.min.css">-->
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
    <link href="css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        #suggestions {
            box-shadow: 2px 2px 8px 0 rgba(0,0,0,.2);
            height: auto;
            position: absolute;
            top: 45px;
            z-index: 9999;
            width: 206px;
        }

            #suggestions .suggest-element {
                background-color: #EEEEEE;
                border-top: 1px solid #d6d4d4;
                cursor: pointer;
                padding: 8px;
                width: 100%;
                float: left;
            }

        #suggestions2 {
            box-shadow: 2px 2px 8px 0 rgba(0,0,0,.2);
            height: auto;
            position: absolute;
            top: 45px;
            z-index: 9999;
            width: 206px;
        }

            #suggestions2 .suggest2-element {
                background-color: #EEEEEE;
                border-top: 1px solid #d6d4d4;
                cursor: pointer;
                padding: 8px;
                width: 100%;
                float: left;
            }
    </style>
    <style>
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

            .switch input {
                opacity: 0;
                width: 0;
                height: 0;
            }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            -webkit-transition: .4s;
            transition: .4s;
        }

            .slider:before {
                position: absolute;
                content: "";
                height: 26px;
                width: 26px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                -webkit-transition: .4s;
                transition: .4s;
            }

        input:checked + .slider {
            background-color: #2196F3;
        }

        input:focus + .slider {
            box-shadow: 0 0 1px #2196F3;
        }

        input:checked + .slider:before {
            -webkit-transform: translateX(26px);
            -ms-transform: translateX(26px);
            transform: translateX(26px);
        }

        /* Rounded sliders */
        .slider.round {
            border-radius: 34px;
        }

            .slider.round:before {
                border-radius: 50%;
            }
    </style>
</head>
<body>
    <section class="header-easytrack" id="header">
        <div class="container-fluid">
            <div class="row">
                <div class="topstrip" id="topMenu">
                    <nav class="navbar navbar-expand-md navbar-dark" id="toggle">
                        <a href="#"><img src="images/Logo3.png" height="50"></a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="collapsibleNavbar">
                            <ul class="navbar-nav">
                                <li class="nav-item dropdown" id="mod1">
                                    <!--  <a class="nav-link" id="rbtTracking">Tracking</a> -->
                                    <label><input id="rbtTracking" name="panelType" checked="checked" onclick="changePanel(1)" type="radio" style="margin-top:10px;" /><span class="topMenuOption lang" style="font-size:16px;font-weight:bold" key="Tracking">Tracking</span></label>
                                </li>
                                <li class="nav-item" id="mod2">
                                    <!--  <a class="nav-link" id="rbtMultiTracking">Multi-Tracking</a> -->
                                    <label><input id="rbtMultiTracking" name="panelType" onclick="changePanel(2)" type="radio" style="margin-top:10px;" /><span class="topMenuOption lang" style="font-size:16px;font-weight:bold" key="Multi-Tracking">Multi-Tracking</span></label>
                                </li>
                                <li class="nav-item" id="mod3">
                                    <!--  <a class="nav-link" id="rbtReports">Reports</a> -->
                                    <label><input id="rbtReports" name="panelType" onclick="changePanel(3)" type="radio" style="margin-top:10px;" /><span class="topMenuOption lang" style="font-size:16px;font-weight:bold" key="Reports">Reports</span></label>
                                </li>
                                <li class="nav-item" id="mod5">
                                    <!--     <a class="nav-link" id="rbtMaintenance">Maintenance</a> -->
                                    <label><input id="rbtMaintenance" name="panelType" onclick="changePanel(5)" type="radio" style="margin-top:10px;" /><span class="topMenuOption lang" style="font-size:16px;font-weight:bold" key="Maintenance">Maintenance</span></label>
                                </li>
                                <li class="nav-item" id="mod13">
                                    <!-- <a class="nav-link" id="rbtELOG">E-LOG</a> -->
                                    <label><input id="rbtELOG" name="panelType" onclick="changePanel(13)" type="radio" style="margin-top:10px;" /><span class="topMenuOption lang" style="font-size:16px;font-weight:bold" key="E-LOG">E-LOG</span></label>
                                </li>
                                <!--<li class="nav-item" id="mod6">-->
                                <!-- <a class="nav-link" id="rbtELOG">E-LOG</a> -->
                                <!--<label><input id="rbtVideo" name="panelType" onclick="changePanel(14)" type="radio" style="margin-top:10px;" /><span class="topMenuOption lang" style="font-size:16px;font-weight:bold" key="Video">Video</span></label>
    </li>-->
                                <!--<li class="nav-item" id="mod6">-->
                                <!-- <a class="nav-link" id="rbtELOG">E-LOG</a> -->
                                <!--<label><input id="rbtFieldService" name="panelType" onclick="changePanel(6)" type="radio" style="margin-top:10px;" /><span class="topMenuOption lang" style="font-size:16px;font-weight:bold" key="FieldService">Field Service</span></label>
    </li>-->
                                <li class="nav-item" id="mod4">
                                    <!--   <a class="nav-link" id="rbtSettings">Settings</a> -->
                                    <label><input id="rbtSettings" name="panelType" onclick="changePanel(4)" type="radio" style="margin-top:10px;" /><span class="topMenuOption lang" style="font-size:16px;font-weight:bold" key="Settings">Settings</span></label>
                                </li>
                                <li class="nav-item dropdown" id="mod1">
                                    <!--  <a class="nav-link" id="rbtTracking">Tracking</a> -->
                                    <label><input id="rbtVideo" name="panelType" checked="checked" onclick="changePanel(17)" type="radio" style="margin-top:10px;" /><span class="topMenuOption lang" style="font-size:16px;font-weight:bold" key="Video">Video</span></label>
                                </li>
                                <li id="mod6">
                                    <img id="feedback" src="icons/feedback.png" style="width:40px;height:40px;" title="Send Feedback" data-toggle="modal" data-target="#myModal1" />
                                </li>
                                <!--<li class="mobiletext"><a id="trackingFleetLocation" href="#" class="mainMenuOption linkmobilenew lang" onclick="mainMenuClick('fleetLocationDiv',1)" key="FleetLocation">FleetLocation</a></li>
                                <li class="mobiletext"><a id="trackingQuickDispatch" href="#" class="mainMenuOption linkmobilenew lang" onclick="mainMenuClick('dispatchingDiv',1)" key="QuickDispatching">Quick Dispatching</a></li>
                                <li class="mobiletext"><a id="trackingBreadcrumbTrail" href="#" class="mainMenuOption linkmobilenew lang" onclick="mainMenuClick('breadcrumbDiv',1)" key="BreadcrumbTrail">Breadcrumb Trail</a></li>-->
                                <li class="mobiletext"><a id="tracking" href="tracking.html" class="mainMenuOption linkmobilenew lang" key="trackingmap">Tracking Map</a></li>
                                <li class="mobiletext"><a id="trackingFleetStatusBoard" href="fleetStatusBoard.html" class="mainMenuOption linkmobilenew lang" key="FleetStatusBoard">Fleet Status Board</a></li>
                                <li class="mobiletext"><a id="trackingHotSpots" href="hotSpots.html" class="mainMenuOption linkmobilenew lang" key="HotSpots">Hot Spots</a></li>
                                <li class="mobiletext"><a id="trakingnumberpanel" href="trakingnumberPanel.html" class="mainMenuOption linkmobilenew lang" key="trakingnumberPanel">Traking Number</a></li>
                                <li class="mobiletext"><a id="brokerorderpanel" href="brokerorderpanel.html" class="mainMenuOption linkmobilenew lang" key="brokerorderpanel">Broker Order</a></li>
                                <li class="linkmobilenew mobiletext">
                                    <a href="#" onclick="logout()" class="loginDivClass lang" key="Logout">Logout</a>
                                </li>

                                <!-- <li class="linkmobilenew mobiletext">
       <a id="feedback" class="dropdown-item" href="#">
            <span style="font-weight:600;">Feedback</span>
        </a>
    </li>-->

                            </ul>

                        </div>
                        <div class="login-content-right">
                            <ul>
                                <li>
                                    <div id="welcomeTitleDiv">
                                        <span id="welcomeTitleSpan" style="color:white;font:bold"></span>
                                    </div>
                                </li>
                                <li style="color:white;font:bold">
                                    <a href="#" onclick="logout()" class="lang" key="Logout">Logout</a>
                                </li>
                                <!-- <li class="linkmobilenew mobiletext">
                                   <a id="feedback" class="dropdown-item" href="#">
                                        <span style="font-weight:600;">Feedback</span>
                                    </a>
                                </li>-->
                                <li class="cart-icon" id="buyNowDiv">
                                    <a href="#" onclick="buyNow()"><img src="images/cart-header.png"></a>
                                </li>
                                <li>
                                    <select id="language" class="form-control" onchange="selectLanguage(this.value)" style="width:auto">
                                        <option value="-1">Language</option>
                                        <option value="es">ES</option>
                                        <option value="en">EN</option>
                                    </select>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </section>
    <section class="second-strip" id="middleMenu">
        <div class="container-fluid">
            <ul id="mainMenu">
                <!--<li><a id="trackingFleetLocation" href="#" class="mainMenuOption lang" onclick="mainMenuClick('fleetLocationDiv',1)" style="font-size:14px;font-weight:bold" key="FleetLocation">Fleet Location</a></li>
                <li><a id="trackingQuickDispatch" href="#" class="mainMenuOption lang" onclick="mainMenuClick('dispatchingDiv',1)" style="font-size:14px;font-weight:bold" key="QuickDispatching">Quick Dispatching</a></li>
                <li><a id="trackingBreadcrumbTrail" href="#" class="mainMenuOption lang" onclick="mainMenuClick('breadcrumbDiv',1)" style="font-size:14px;font-weight:bold" key="BreadcrumbTrail">Breadcrumb Trail</a></li>-->
                <li><a id="tracking" href="tracking.html" class="mainMenuOption lang" style="font-size:14px;font-weight:bold" key="trackingmap">Tracking Map</a></li>
                <li><a id="trackingFleetStatusBoard" href="fleetStatusBoard.html" class="mainMenuOption lang" style="font-size:14px;font-weight:bold" key="FleetStatusBoard">Fleet Status Board</a></li>
                <li><a id="trackingHotSpots" href="hotSpots.html" class="mainMenuOption lang" style="font-size:14px;font-weight:bold" key="HotSpots">Hot Spots</a></li>
                <li><a id="trackingnumber" href="trakingnumberPanel.html" class="mainMenuOption lang" style="font-size:14px;font-weight:bold" key="TrakingNumber">Traking Number</a></li>
                <li><a id="brokerorderpanel" href="brokerorderpanel.html" class="mainMenuOption lang" style="font-size:14px;font-weight:bold" key="brokerorderpanel">Broker Order</a></li>
            </ul>
        </div>
    </section>
    <div id="wrapper" class="content-wrap-custome">
        <div id="traking" class="container-fluid">
            <br /><h1>Broker Order Panel</h1><hr />
            <!--<div class="row">
                <div class="col-6">
                    <button type="button" class="btn btn-outline-primary" data-toggle="modal" data-target="#formbroker">
                        New Broker Order
                    </button>
                </div>
            </div>-->
            <div class="row">
                <br />
            </div>
            <div class="row">
                <div class="col-3">
                    <input class="form-control" id="myInput2" type="text" placeholder="Search..">
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div id="brokerPost">
                        <div class="row">
                            <!-- Modal post -->
                            <div class="modal fade" id="formbroker" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                                <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <span>
                                                Create Broker Order
                                            </span>
                                        </div>
                                        <div class="modal-body">
                                            <form>
                                                <div class="row">
                                                    <input type="hidden" id="brokerdeviceguid" />
                                                </div>
                                                <div class="row">
                                                    <div class="col-6"><label>Broker Order Device <span id="brokerdevice" style="font-weight: bold;"></span></label></div>
                                                    <div class="col-6"><label>Driver </label> <span id="brokerdriver" style="font-weight: bold;"></span></div>
                                                    <hr />
                                                </div>
                                                <div class="row">
                                                    <div class="col-6">
                                                        <label>Broker Name</label>
                                                    </div>
                                                    <div class="col-6">
                                                        <input id="name" type="text" class="form-control" placeholder="..." required>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-6">
                                                        <label>Order #</label>
                                                    </div>
                                                    <div class="col-6">
                                                        <input id="Ordernumber" type="text" class="form-control" placeholder="..." required>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-6">
                                                        <label>Pick up Address</label>
                                                    </div>
                                                    <div class="col-6">
                                                        <input id="PickupAddress" type="text" class="form-control" placeholder="..." required>
                                                        <div class="col-6">
                                                            <div id="suggestions"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-6">
                                                        <label>Pick up Datetime</label>
                                                    </div>
                                                    <div class="col-6">
                                                        <!--<input id="PickupDatetime" type="datetime-local" class="form-control" placeholder="..." required>-->
                                                        <input id="PickupDatetime" type="text" class="form-control" placeholder="..." required>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-6">
                                                        <label>Delivery Address</label>
                                                    </div>
                                                    <div class="col-6">
                                                        <input id="address" type="text" class="form-control" placeholder="..." required>
                                                        <div class="col-6">
                                                            <div id="suggestions2"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-6">
                                                        <label>Delivery Datetime</label>
                                                    </div>
                                                    <div class="col-6">
                                                        <!--<input id="DeliveryDatetime" type="datetime-local" class="form-control" placeholder="..." required>-->
                                                        <input id="DeliveryDatetime" type="text" class="form-control" placeholder="..." required>

                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-6">
                                                        <label>Observations</label>
                                                    </div>
                                                    <div class="col-6">
                                                        <input id="Observations" type="text" class="form-control" placeholder="...">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-6">
                                                        <label class="switch">
                                                            <input type="checkbox" id="chksendtraking" onclick="viewtraking()">
                                                            <span class="slider round"></span>
                                                        </label>
                                                        <label>Send Email <span style="color:red;font-size:10px">SEPARATE EMAILS WITH SEMICOLONS <span style="font-size:20px">(;)</span></span></label>
                                                    </div>
                                                    <div class="col-6" id="emailstraking" style="display:none">
                                                        <input id="emailto" type="email" class="form-control" placeholder="email1;email2;email3...">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-6">
                                                        <label class="switch">
                                                            <input type="checkbox" id="chksendsms" onclick="viewSms()">
                                                            <span class="slider round"></span>
                                                        </label>
                                                        <label>
                                                        Send SMS <span style="font-size:9px;color:red">USA,CANADA ONLY.AREACODE+PHONE NUMBER</span>
                                                        </label>
                                                        <label>
                                                            <span style="font-size:9px;color:red">SEPARATE PHONE NUMBER WITH SEMICOLONS<span style="font-size:20px">(;)</span></span>
                                                        </label>

                                                    </div>
                                                    <div class="col-6" id="smsphone" style="display:none">
                                                        <input id="smsPhone1" type="text" class="form-control" placeholder="phone1;phone2;phon3...">
                                                    </div>
                                                </div>

                                                <!--<div class="row">
    <div class="col-6">
        <label>Type</label>
    </div>
    <div class="col-6">
        <select id="type" name="type" class="form-control">-->
                                                <!--<option value="0" selected>Load Type</option>-->
                                                <!--<option value="ORDER" selected>ORDER</option>
                <option value="BILL_OF_LADING">BILL_OF_LADING</option>
            </select>
        </div>
    </div>-->
                                                <!--<div class="row">
        <div class="col-6">
            <label>Delivery Address</label>
        </div>
        <div class="col-6">
            <input id="address" type="text" class="form-control" placeholder="Delivery Address" required>
        </div>
    </div>-->
                                                <!--<div class="row">
        <div class="col-12"><label style="font-weight: bold;">Broker Name</label></div><hr />
    </div>-->
                                                <!--<div class="row">
        <div class="col-6">
            <label>Name</label>
        </div>
        <div class="col-6">
            <input id="name" type="text" class="form-control" placeholder="Name" required>
        </div>
    </div>-->
                                                <!--<div class="row">
        <div class="col-6">
            <label>Phone</label>
        </div>
        <div class="col-6">
            <input id="phone" type="text" class="form-control" placeholder="Phone" required>
        </div>
    </div>-->
                                                <!--<div class="row">
        <div class="col-6">
            <label>Email</label>
        </div>
        <div class="col-6">
            <input id="email" type="text" class="form-control" placeholder="Email" required>
        </div>
    </div>-->

                                            </form>
                                            <div class="row">
                                                <span id="msg" style="color:red"></span>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                            <button type="button" class="btn btn-primary" onclick="savebroker2()">Save</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div id="brokersdiv">
                        <div class="row">
                            <div class="col-md-12 col-sm-6">
                                <table class="table table-striped" id="brokerlist">
                                    <thead>
                                        <tr>
                                            <th scope="col"></th>
                                            <th scope="col"></th>
                                            <th scope="col"></th>
                                            <th scope="col">Icon</th>
                                            <th scope="col">Devices</th>
                                            <th scope="col">Status</th>
                                            <th scope="col">EventDate</th>
                                            <th scope="col">Location</th>
                                            <th scope="col">Driver</th>
                                            <th scope="col">Speed</th>
                                            <th scope="col">Orders</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbody_brokerlist">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div id="eventLocationMapDlg" title="Event Location">
                        <div id="mapCanvas" style="width:400px;height:400px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>

    <script type="text/javascript">var seJY41 = document.createElement("script"); seJY41.type = "text/javascript"; var seJY41s = (location.protocol.indexOf("https") == 0 ? "https" : "http") + "://image.providesupport.com/js/0325vm2g5aj6809q0cspkf44yw/safe-standard.js?ps_h=JY41&ps_t=" + new Date().getTime(); setTimeout("seJY41.src=seJY41s;document.getElementById('sdJY41').appendChild(seJY41)", 1)</script><noscript><div style="display:inline"><a href="http://vm.providesupport.com/0325vm2g5aj6809q0cspkf44yw">Customer Support Chat</a></div></noscript>
    <!-- END ProvideSupport.com Graphics Chat Button Code -->
    <!--    Javascript includes -->
    <script src="Scripts/authorization_006.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.0/jquery-ui.min.js" type="text/javascript"></script>
    <script src="Scripts/jquery.json-2.3.min.js" type="text/javascript"></script>
    <script src="Scripts/jquery.tools.min.js" type="text/javascript"></script>
    <script src="Scripts/date.format.js" type="text/javascript"></script>
    <script src="Scripts/db_v002.js" type="text/javascript"></script>
    <script src="Scripts/brokerorderPanel.js" type="text/javascript"></script>
    <script src="Scripts/utilities_002.js" type="text/javascript"></script>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAekGGZACHuofFJ65TxBQFAlYvhw2GjM6U&v=3.17&sensor=false"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/js/toastr.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!--<script src="Scripts/helpTracking.js" type="text/javascript"></script>-->
    <!--<script src="Scripts/userPreferences.js" type="text/javascript"></script>-->
    <script src="PruebaMultiIdioma/js/script.js" charset="utf-8"></script>
    <script type="text/javascript">

        $(document).ready(function () {
            $("#myInput2").on("keyup", function () {
                var value = $(this).val().toLowerCase();
                $("#brokerlist tr").filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
            $("#PickupAddress").on("keyup", function () {
                var value = $(this).val().toLowerCase();
                var htmlresult = "";
                if (value.length > 5) {

                    $.ajax({
                        method: "GET",
                        url: "https://geocode.search.hereapi.com/v1/geocode?q=" + value + "&apiKey=cjWEwjRUaQbpq1NcmdAfKYEtn2NUccsg61T2SsecOp8"
                    }).done(function (data) {
                        data.items.forEach(function (data, index) {
                            console.log(data);
                            htmlresult += "<div><a class='suggest-element' address=" + "'" + data.address.label + "'" + "coordinates=" + "'" + data.position.lat + "," + data.position.lng + "'" + ">" + data.address.label + "</a></div>";
                        });
                        $("#suggestions").fadeIn(1000).html(htmlresult);
                        $('.suggest-element').on('click', function () {

                            var address = $(this).attr('address');
                            var coordinates = $(this).attr('coordinates');
                            Broker.PickupAddress = address;
                            Broker.PickupAddresscoordinatesLat = (coordinates.split(","))[0];
                            Broker.PickupAddresscoordinatesLng = (coordinates.split(","))[1];


                            $('#PickupAddress').val(address);
                            $('#suggestions').fadeOut(1000);
                            return false;
                        });

                    }).fail(function () {
                        alert("Algo salió mal");
                    }).always(function () {
                        //alert("Siempre se ejecuta")
                    });
                } else {
                    $('#suggestions').fadeOut(1000);
                }

            });
            $("#address").on("keyup", function () {
                var value = $(this).val().toLowerCase();
                var htmlresult = "";
                if (value.length > 5) {

                    $.ajax({
                        method: "GET",
                        url: "https://geocode.search.hereapi.com/v1/geocode?q=" + value + "&apiKey=q6t4CQ5PyaeY0VGUYHigRoe0fGfZqyRsRddoaovbOX4"
                    }).done(function (data) {
                        data.items.forEach(function (data, index) {
                            console.log(data);
                            htmlresult += "<div><a class='suggest2-element' address2=" + "'" + data.address.label + "'" + "coordinates2=" + "'" + data.position.lat + "," + data.position.lng + "'" + ">" + data.address.label + "</a></div>";
                        });
                        $("#suggestions2").fadeIn(1000).html(htmlresult);
                        $('.suggest2-element').on('click', function () {
                            var address2 = $(this).attr('address2');
                            var coordinates2 = $(this).attr('coordinates2');

                            Broker.DeliveryAddress = address2;
                            Broker.DeliveryAddressscoordinatesLat = (coordinates2.split(","))[0];
                            Broker.DeliveryAddressscoordinatesLng = (coordinates2.split(","))[1];
                            console.log(Broker);

                            $('#address').val(address2);
                            $('#suggestions2').fadeOut(1000);
                            return false;
                        });

                    }).fail(function () {
                        alert("Algo salió mal");
                    }).always(function () {
                        //alert("Siempre se ejecuta")
                    });
                }

            });
            $(function () {
                $("#DeliveryDatetime").datepicker({
                    dateFormat:'mm-dd-yy'
                });
            });

            $(function () {
                $("#PickupDatetime").datepicker(
                    {
                        dateFormat:'mm-dd-yy'
                    }
                );
            });
            if (validateToken(false, 'brokerorderpanel.html') == true) {
                setWelcomeTitle();

                setLastFetchOn();
                loadbrokerOrder();
                // getDevicescmb();

            }
        });
                    //function loadbrokerorder() {

                    //    let status = "";
                    //    try {
                    //        $("#tbody_brokerlist").empty();
                    //        var row = "";
                    //        var data = getTrakingnumber();
                    //        if (data != null) {
                    //            $.each(data, function (key, value) {
                    //                //alert(key + ": " + value.name);
                    //                //date = new Date(value.LastUpdatedOn).toDateString();;
                    //                row += "<tr>";
                    //                /*row += "<td><a href=" + viewCustomer(e) + "class=link - primary>Primary link</a></td>";*/
                    //                if (value.Flag_Expired)
                    //                {
                    //                    status = "Finalized";
                    //                    row += "<td><button type='button' data-toggle='modal' data-target='#formtrakingnput' onclick=edittrakingn() disabled>Edit</button></td>";

                    //                } else
                    //                {
                    //                    status = "Active";
                    //                    row += "<td><button type='button' data-toggle='modal' data-target='#formtrakingnput' onclick=edittrakingn()>Edit</button></td>";

                    //                }

                    //                row += "<td><a href=" + value.URLTraking + " target=_blank disabled>View Map</a></td>";
                    //                row += "<td style=display:none>" + value.ID + "</td>";
                    //                row += "<td>" + value.Device + "</td>";
                    //                row += "<td>" + value.TrackingNumber + "</td>";
                    //                row += "<td>" + value.SendTo + "</td>";
                    //                row += "<td>" + value.ValidUntil + "</td>";
                    //                row += "<td>" + value.Message + "</td>";
                    //                //row += "<td>" + value.Lat + "</td>";
                    //                //row += "<td>" + value.Lng + "</td>";
                    //                row += "<td><img src=" + value.MapIcon + " alt=" + value.Device + "></td>";
                    //                row += "<td>" + status + "</td>";
                    //                row += "</tr>";

                    //            });
                    //            $("#tbody_trakingnumber").append(row)
                    //        }
                    //    }
                    //    catch (err) {
                    //        alert('Error: ' + err.message);
                    //    }
                    //}
                    //function save() {
                    //    var result = savepost();

                    //    if (result.isOk == 1) {
                    //        toastr.success('created successfully');
                    //        loadtrakingNumber();
                    //        clearinputs();
                    //    } else {
                    //        toastr.error('error registering');
                    //    }
                    //}
                    //function modify() {

                    //    var result = saveput();

                    //    if (result.isOk == 1) {
                    //        toastr.success('successful update');
                    //        loadtrakingNumber();
                    //        clearinputs();
                    //    } else {
                    //        toastr.error('error updating');
                    //    }
                    //}

    </script>
</body>
</html>
