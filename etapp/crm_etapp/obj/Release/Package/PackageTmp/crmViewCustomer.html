<!DOCTYPE HTML>
<html>
<head>
    <title>View Customer</title>
    <link href="themes/base/jquery.ui.all.css" rel="stylesheet" type="text/css" />
    <link href="themes/redmond/jquery-ui-1.9.0.custom.min.css" rel="stylesheet" type="text/css" />
    <link href="jquery.jqGrid-4.4.1/css/ui.jqgrid.css" rel="stylesheet" type="text/css" />
    <link href="jquery.jqGrid-4.4.1/plugins/ui.multiselect.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!--<link href="scripts/bootstrap/css/bootstrap.min.css" rel="stylesheet" />-->
    <!--<link href="Styles/common.css" rel="stylesheet" type="text/css" />-->
    <!--<link href="Styles/app.css" rel="stylesheet" type="text/css" />-->
</head>
<body>
    <div class="container-md" style="background-color: #E6E6E6" id="grid">
        <header>
            <div id="welcomeTitleDiv" class="row">
                <span id="welcomeTitleSpan"></span>
            </div>
            <div id="divNarBar" class="row"></div>
        </header>
        <main>
            <!--<div style="width:1200px;margin:0 auto;">-->
            <div class="row" style="padding-bottom:10px"></div>
            <div class="row">
                <div class="col-md-2 col-sm-12 col-lg-2">
                    Company Name:
                </div>
                <div class="col-md-2 col-sm-12 col-lg-2">
                    <span id="companyName"></span> (<span id="newCustomerCase"></span>)
                </div>
            </div>
            <div class="row">
                <div class="col-md-2 col-sm-12 col-lg-2">
                    Payment Method
                </div>
                <div class="col-md-2 col-sm-12 col-lg-2">
                    <select class="form-select" aria-label="Default select example" id="cbxPaymentMethods">
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2 col-sm-12 col-lg-2">
                    Day of billing
                </div>
                <div class="col-md-2 col-sm-12 col-lg-2">
                    <select class="form-select" aria-label="Default select example" id="cbxMonthDays">
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2 col-sm-12 col-lg-2">
                    Is V.V.I.P.
                </div>
                <div class="col-md-2 col-sm-12 col-lg-2">
                    <input type="checkbox" id="isVVIP" />
                </div>
            </div>
            <div class="row">
                <div class="col-md-2 col-sm-12 col-lg-2">
                    <button id="btnSaveBillingDet" class="btn btn-light" onclick="saveBillingDet()" style="padding-bottom:10px">Save</button>
                </div>
                <div class="col-md-4 col-sm-12 col-lg-4">
                    <button id="btnSnoozeCollection" class="btn btn-light" onclick="snoozeCollections()" style="padding-bottom:10px">Snooze Collections Emails</button>
                </div>
            </div>
            <div class="row" style="padding-bottom:20px">

            </div>
            <table id="tblUsers"></table>
            <div id="tblUsersPager"></div>
            <br style="clear:both;" />


            <table id="tblDevices"></table>
            <div id="tblDevicesPager"></div>
            <div class="row">
                <div class="col-md-12 col-sm-12 col-lg-12">
                    <span>*Note: NoInst: Not Installed; RMA: RMA'ed device; INAC: Inactivated; NotW: Device Not working</span>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 col-sm-12 col-lg-12">
                    <input type="button" id="bedata" value="Edit Selected" onclick="" />
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 col-sm-12 col-lg-12">
                    <textarea id="txtNewNote" style="width:500px;height:100px"></textarea>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 col-sm-12 col-lg-12">
                    <button id="btnSaveNote" onclick="saveNote()">Save</button>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 col-sm-12 col-lg-12">
                    <div id="Notes"></div>
                </div>
            </div>
            <div class="row" style="padding-bottom:20px"></div>
            <div class="row" style="padding-bottom:20px"></div>
        </main>

        <br>
        <br>
        <footer>
            <p style="text-align:center; background-color: #5c9ccc">All Rights Reserved - 2021</p>
        </footer>

    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.0/jquery-ui.min.js" type="text/javascript"></script>
    <script src="jquery.jqGrid-4.4.1/js/i18n/grid.locale-en.js" type="text/javascript"></script>
    <script src="jquery.jqGrid-4.4.1/js/jquery.jqGrid.src.js" type="text/javascript"></script>
    <script src="jquery.jqGrid-4.4.1/plugins/ui.multiselect.js" type="text/javascript"></script>
    <script src="jquery.jqGrid-4.4.1/plugins/jquery.tablednd.js" type="text/javascript"></script>
    <script src="jquery.jqGrid-4.4.1/plugins/jquery.searchFilter.js" type="text/javascript"></script>
    <script src="vendors/underscore-1.7/underscore-min.js"></script>
    <script src="scripts/angular.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <!--<script src="scripts/bootstrap/js/bootstrap.min.js"></script>-->
    <script src="Scripts/jquery.json-2.3.min.js" type="text/javascript"></script>

    <script src="Scripts/utilities_002.js" type="text/javascript"></script>

    <script src="Scripts/crmCommon.js" type="text/javascript"></script>
    <script src="Scripts/crmdb.js" type="text/javascript"></script>
    <script src="Scripts/crmAuthorization.js" type="text/javascript"></script>
    <script src="Scripts/crmViewCustomer.js" type="text/javascript"></script>
    <script src="Scripts/crmCases.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(window).resize(function () {
            var outerwidth = $('#grid').width();
            $('#tblUsers').setGridWidth(outerwidth); // setGridWidth method sets a new width to the grid dynamically
            $('#tblDevices').setGridWidth(outerwidth); // setGridWidth method sets a new width to the grid dynamically
        });
        $(window).unbind('resize.myEvents').bind('resize.myEvents', function () {
            var outerwidth = $('#grid').width();
            $('#tblUsers').setGridWidth(outerwidth);
            $('#tblDevices').setGridWidth(outerwidth);
        });
        $(document).ready(function () {
            $("#divNarBar").load("/Layouts/NavBar.html");
            if (crmValidateToken() == true) {
                setWelcomeTitle();
            }
            
            loadBillingControls();
            loadCustomer();
            getNotes();
        });
    </script>
</body>
</html>
